{"version":3,"sources":["Components/Blog-MVP/Userprofile.jsx"],"names":["UserBlogs","item","deletethispost","e","a","preventDefault","window","confirm","_id","console","log","fetch","method","headers","body","JSON","stringify","result","className","style","flex","overflow","borderRadius","src","CoverImage","alt","heading","content","onClick","Userprofile","useContext","usercontext","user","setuser","userexist","setuserexist","useState","userblogs","setuserblogs","getusersblogs","axios","post","email","status","data","blogs","useEffect","id","name","interest","length","map"],"mappings":"0OAKA,SAASA,EAAT,GAA2B,IAAPC,EAAM,EAANA,KACVC,EAAc,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,yDAEnBD,EAAEE,kBACUC,OAAOC,QAAQ,oCAHR,uBAKbC,EAAMP,EAAKO,IACjBC,QAAQC,IAAIF,GANO,SAOEG,MAAM,uDAAwD,CAC/EC,OAAQ,SACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CACjBR,UAbW,OAObS,EAPa,OAgBnBR,QAAQC,IAAIO,GAhBO,2CAAH,sDAmBpB,OACI,sBAAKC,UAAU,YAAf,UACA,qBAAKA,UAAU,MAAMC,MAAO,CAACC,KAAK,OAAOC,SAAS,SAASC,aAAa,QAAxE,SACI,qBAAKC,IAAKtB,EAAKuB,WAAYC,IAAI,OAEnC,sBAAKP,UAAU,OAAQC,MAAO,CAACC,KAAK,QAApC,UACI,6BAAKnB,EAAKyB,UACV,4BAAIzB,EAAK0B,UACT,qBAAKT,UAAU,UAAf,SACI,wBAAQA,UAAU,SAASU,QAAS1B,EAApC,4BA8CD2B,UAxCf,WACI,MAAmDC,qBAAWC,KAAtDC,EAAR,EAAQA,KACR,GADA,EAAcC,QAAd,EAAuBC,UAAvB,EAAkCC,aACDC,mBAAS,KAA1C,mBAAOC,EAAP,KAAiBC,EAAjB,KACMC,EAAa,uCAAG,WAAMpC,GAAN,iBAAAC,EAAA,sEACGoC,IAAMC,KAAK,mDAAmD,CAACC,MAAMV,EAAKU,QAD7E,UAEC,OADbzB,EADY,QAER0B,OAFQ,gCAGM1B,EAAO2B,KAHb,OAGRC,EAHQ,OAIdP,EAAaO,GAJC,2CAAH,sDAUnB,OAHAC,qBAAU,WACNP,OAEI,mCACA,sBAAKQ,GAAG,eAAR,UACA,mCAAK,oDAAL,OACA,sBAAK7B,UAAU,YAAf,UACI,cAAC,IAAD,IACA,gCACI,6BAAKc,EAAKgB,OACV,6BAAKhB,EAAKU,QACV,6CAAgBV,EAAKiB,YACrB,4DAA+BZ,EAAUa,gBAGjD,mCAAK,kDAAL,OACA,qBAAKhC,UAAU,cAAf,SAE2B,IAAnBmB,EAAUa,OACV,iDACAb,EAAUc,KAAI,SAAClD,GAAD,OACV,cAACD,EAAD,CAAWC,KAAMA","file":"static/js/23.2579cb98.chunk.js","sourcesContent":["import React,{useState,useEffect,useContext} from 'react'\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport \"./userprofile.css\"\r\nimport axios from \"axios\"\r\nimport { usercontext } from '../Contexts/usercontext';\r\nfunction UserBlogs({item}){\r\n    const deletethispost = async(e)=>{\r\n\r\n        e.preventDefault();\r\n        const ask = window.confirm(\"Do you want to Delete this Post?\");\r\n        if(ask){\r\n        const _id = item._id;\r\n        console.log(_id);\r\n        const result = await fetch(\"https://hashhub-backend.herokuapp.com/deletethispost\", {\r\n            method: 'DELETE',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                _id\r\n            })\r\n        });\r\n        console.log(result);\r\n        }\r\n    }\r\n    return(\r\n        <div className=\"blog-card\">\r\n        <div className=\"top\" style={{flex:'0.50',overflow:'hidden',borderRadius:'10px'}}>\r\n            <img src={item.CoverImage} alt=\"\" />\r\n        </div>\r\n        <div className=\"down\"  style={{flex:'0.60'}}>\r\n            <h2>{item.heading}</h2>\r\n            <p>{item.content}</p>\r\n            <div className=\"buttons\">\r\n                <button className=\"delete\" onClick={deletethispost}>Delete</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\nfunction Userprofile() {\r\n    const { user, setuser, userexist, setuserexist } = useContext(usercontext);\r\n    const [userblogs,setuserblogs] = useState([]);\r\n    const getusersblogs = async(e)=>{\r\n        const result = await axios.post('https://hashhub-backend.herokuapp.com/getmyblogs',{email:user.email});\r\n        if(result.status===200){\r\n            const blogs = await result.data;\r\n            setuserblogs(blogs);\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        getusersblogs();\r\n    })\r\n    return (<>\r\n            <div id=\"user-profile\">\r\n            <h1> <center> User Profile </center> </h1>\r\n            <div className=\"user-card\">\r\n                <AccountCircleIcon />\r\n                <div>\r\n                    <h2>{user.name}</h2>\r\n                    <h4>{user.email}</h4>\r\n                    <h3>Interests: {user.interest}</h3>\r\n                    <h3>Total Blogs Contributed : {userblogs.length}</h3>\r\n                </div>\r\n            </div>\r\n            <h1> <center> Your Blogs </center> </h1>\r\n            <div className=\"users-blogs\">\r\n                {\r\n                    userblogs.length===0?\r\n                    <h1>No Blogs Posted</h1>:\r\n                    userblogs.map((item)=>(\r\n                        <UserBlogs item={item} />\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Userprofile\r\n"],"sourceRoot":""}