{"version":3,"sources":["Components/Blog-MVP/Homepage.jsx","Components/Forms/Login.jsx"],"names":["Card","src","content","heading","blogdetails","setcurrentblog","currentblog","history","useHistory","className","alt","onClick","push","console","log","Homepage","useContext","currentBlog","currentindexblog","usercontext","userexist","user","setuser","setuserexist","useState","hashhubblogs","sethashhubblogs","landingpage","setlandingpage","getblogs","a","axios","get","result","data","blogs","length","useEffect","localStorage","getItem","JSON","parse","setItem","stringify","id","style","marginLeft","marginRight","CoverImage","name","maxHeight","overflow","map","item","Login","error","seterror","email","setemail","password","setpassword","submit","e","preventDefault","fetch","method","headers","body","res","status","json","message","class","href","type","autoComplete","value","onChange","target","to"],"mappings":"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","file":"static/js/15.3c2bfbad.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport \"./homepage.css\"\r\nimport axios from \"axios\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { currentBlog } from \"../Contexts/currentBlog\"\r\nimport { usercontext } from \"../Contexts/usercontext\";\r\nimport Login from \"../Forms/Login\"\r\n\r\nfunction Card({ src, content, heading, blogdetails, currentblog, setcurrentblog }) {\r\n    const history = useHistory();\r\n    const readblog = () => {\r\n        setcurrentblog(blogdetails);\r\n        history.push('/Blogpage');\r\n        console.log(blogdetails);\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"blog-card\">\r\n                <div className=\"top\">\r\n                    <img src={src} alt=\"\" />\r\n                </div>\r\n                <div className=\"down\">\r\n                    <h2>{heading}</h2>\r\n                    <p>{content} ...</p>\r\n                    <button onClick={readblog}>Read More</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nfunction Homepage() {\r\n    const history = useHistory();\r\n    const { currentindexblog, setcurrentblog } = useContext(currentBlog)\r\n    const { user, setuser, userexist, setuserexist } = useContext(usercontext);\r\n    const [hashhubblogs, sethashhubblogs] = useState([]);\r\n    const [landingpage, setlandingpage] = useState([]);\r\n    const getblogs = async () => {\r\n        const result = await axios.get('https://hashhub-backend.herokuapp.com/Hashhub_blogs');\r\n        const blogs = await result.data;\r\n        sethashhubblogs(blogs);\r\n        console.log(hashhubblogs);\r\n        setlandingpage(blogs[blogs.length - 1]);\r\n        console.log(landingpage)\r\n    }\r\n    const handlesubmit = () => {\r\n\r\n        setcurrentblog(landingpage);\r\n        history.push('/Blogpage');\r\n        console.log(landingpage);\r\n    }\r\n    useEffect(() => {\r\n\r\n        if(localStorage.getItem('hashhubblogs')){\r\n            sethashhubblogs(JSON.parse(localStorage.getItem('hashhubblogs')))\r\n        }\r\n        if(localStorage.getItem('landingpage')){\r\n            setlandingpage(JSON.parse(localStorage.getItem('landingpage')))\r\n        }\r\n        getblogs();\r\n    }, [])\r\n    useEffect(()=>{\r\n        localStorage.setItem('hashhubblogs',JSON.stringify(hashhubblogs));\r\n        localStorage.setItem('landingpage',JSON.stringify(landingpage)); \r\n    })\r\n    \r\n    return (<>\r\n        {\r\n            userexist===false?\r\n            <Login />\r\n            :\r\n            <>\r\n            <div id=\"blog-Mainpage\">\r\n            <div className=\"header\">\r\n                <div></div>\r\n                <div style={{marginLeft:'4rem'}} className=\"right\">\r\n                </div>\r\n                <div>\r\n                <button style={{marginRight:'1rem'}} onClick={()=>{history.push('/CreateBlog')}}>Publish the Blog</button>\r\n                </div>\r\n            </div>\r\n                <h2><center>Latest Blog</center></h2>\r\n            <div className=\"landingpage\">\r\n                <img src={landingpage.CoverImage} id=\"landingPageImg\" alt=\"\" />\r\n                <div className=\"subnav\">\r\n                    <h1>{landingpage.heading}</h1>\r\n                    <i><h2>- {landingpage.name === '' ? 'User' : landingpage.name}</h2></i>\r\n\r\n                    <p style={{ maxHeight: '40%', overflow: 'hidden' }}>{landingpage.content}</p>\r\n                    <button onClick={handlesubmit} >Read More</button>\r\n                </div>\r\n                <div className=\"right\"></div>\r\n            </div>\r\n            <div className=\"other-blogs\">\r\n                <h2><center>More Blogs</center></h2>\r\n                <div className=\"moreblogs\">\r\n                    {\r\n                        hashhubblogs.map((item) => (\r\n                                <Card src={item.CoverImage} content={item.content} heading={item.heading} blogdetails={item} currentBlog={currentindexblog} setcurrentblog={setcurrentblog} />\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Homepage;","import React, { useState, useContext } from 'react'\r\nimport \"./form.css\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { usercontext } from '../Contexts/usercontext';\r\nimport { useEffect } from 'react';\r\nfunction Login() {\r\n    const { user, setuser, userexist, setuserexist } = useContext(usercontext);\r\n    const history = useHistory();\r\n    const [error, seterror] = useState();\r\n    const [email, setemail] = useState();\r\n    const [password, setpassword] = useState();\r\n    const submit = async (e) => {\r\n\r\n        e.preventDefault();\r\n        const res = await fetch(\"https://hashhub-backend.herokuapp.com/login\", {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                email, password\r\n            })\r\n        })\r\n        if (res.status === 200) {\r\n            const result = await res.json();\r\n            setuser(result.user);\r\n            setuserexist(true);\r\n            localStorage.setItem('user', JSON.stringify(result.user));\r\n            localStorage.setItem('userexist', 'true');\r\n            history.push('/')\r\n        } else {\r\n            const result = await res.json();\r\n            seterror(result.message);\r\n        }\r\n    }\r\n    return (\r\n        <div class=\"login_register\">\r\n            <div className=\"left\">\r\n                <a href=\"#\">Hash/Hub</a>\r\n                <img src=\"https://pratibharana.com/wp-content/uploads/2021/04/web-development-banner.jpg\" alt=\"\" />\r\n                <h3>Hash/Hub is here to provide everything that revolves around your engineering degree.</h3>\r\n            </div>\r\n            <div className=\"right\">\r\n                <h2>Welcome</h2>\r\n                <h4>Sign in to your Account</h4>\r\n                <div className=\"inputfields\">\r\n                    <p>Username</p>\r\n                    <input type=\"text\" autoComplete=\"true\" value={email} onChange={e => setemail(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputfields\">\r\n                    <p>Password</p>\r\n                    <input type=\"password\" value={password} onChange={e => setpassword(e.target.value)} />\r\n                </div>\r\n                <button onClick={submit} >Login</button>\r\n                <p className=\"para\">{error}</p>\r\n                <p className=\"para\">Not have account? <Link to=\"/register\">Register</Link></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"],"sourceRoot":""}