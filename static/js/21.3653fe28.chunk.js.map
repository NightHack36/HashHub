{"version":3,"sources":["Components/Blog-MVP/Bloginput.jsx"],"names":["Preview","CoverImage","heading","tags","content","useContext","usercontext","user","setuser","userexist","setuserexist","className","style","fontSize","name","length","map","item","id","src","alt","dangerouslySetInnerHTML","__html","marked","Bloginput","history","useHistory","useState","setcoverimage","preview","setpreview","setheading","tag","settag","settags","setcontent","useEffect","console","log","submit","e","a","preventDefault","window","alert","email","axios","post","status","push","marginLeft","onClick","type","placeholder","value","onChange","target","autoFocus","old","cols","rows","whiteSpace"],"mappings":"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","file":"static/js/21.3653fe28.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport \"./bloginput.css\"\r\nimport { usercontext } from \"../Contexts/usercontext\";\r\nimport axios from \"axios\"\r\nimport marked from \"marked\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport { IconButton } from '@material-ui/core'\r\nfunction Preview({ CoverImage, heading, tags, content }) {\r\n    const { user, setuser, userexist, setuserexist } = useContext(usercontext);\r\n    return (\r\n        <div className=\"preview\">\r\n            {\r\n                (!heading || !tags || !content || !CoverImage) ? <h1>Preview here... Input all the Fields</h1> :\r\n\r\n                    <>\r\n                        <h1 style={{ fontSize: '3rem' }}><center>{heading}</center></h1>\r\n                        <div className=\"subnav\">\r\n                            <h2>- {user.name} |</h2>\r\n                            <IconButton>\r\n                                <FavoriteBorderIcon></FavoriteBorderIcon>\r\n                            </IconButton>\r\n                            <span>0</span>\r\n                            {tags.length === 0 ? null : <div className=\"tags\">{\r\n                                tags.map((item) => (\r\n                                    <span>{item}</span>\r\n                                ))\r\n                            }</div>}\r\n                        </div>\r\n                        {CoverImage===''?null:<img id=\"coverimage\" src={CoverImage} alt=\"\" />}\r\n                        {content===null?null:\r\n                        <p dangerouslySetInnerHTML={{ __html: marked(content) }} ></p>}\r\n                    </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Bloginput() {\r\n    const history = useHistory();\r\n    const { user, setuser, userexist, setuserexist } = useContext(usercontext);\r\n    const [CoverImage, setcoverimage] = useState('');\r\n    const [preview, setpreview] = useState(false);\r\n    const [heading, setheading] = useState('');\r\n    const [tag, settag] = useState();\r\n    const [tags, settags] = useState([]);\r\n    const [content, setcontent] = useState();\r\n    const additem = () => {\r\n        settags((old) => {\r\n            return [...old, tag];\r\n        })\r\n        settag('');\r\n    }\r\n    useEffect(() => {\r\n        console.log(user);\r\n    }, [])\r\n    const submit = async (e) => {\r\n        e.preventDefault();\r\n        if(!heading || !tags || !content || !CoverImage){\r\n            return window.alert('Empty Inputs');\r\n        }\r\n        const email = user.email;\r\n        const name = user.name;\r\n        const res = await axios.post('https://hashhub-backend.herokuapp.com/createBlog', { email, name, CoverImage, heading, tags, content });\r\n        if (res.status === 200) {\r\n            window.alert('Blog is Successfully Publish!!!');\r\n        }\r\n        else {\r\n            window.alert('Something Went Wrong');\r\n        }\r\n        history.push('/Blogs')\r\n    }\r\n    return (\r\n        <div id=\"bloginput\">\r\n            <div className=\"header\">\r\n                <div></div>\r\n                <div style={{ marginLeft: '4rem' }} className=\"right\">\r\n                    <h2>Publish Your Own Blog</h2>\r\n                </div>\r\n                <div>\r\n                    <button onClick={submit}>Publish</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"main\">\r\n                <div className=\"nav\">\r\n                    <h3 className={preview === false ? \"active\" : \"\"} onClick={e => setpreview(false)}>Edit</h3>\r\n                    <h3 className={preview === true ? \"active\" : \"\"} onClick={e => setpreview(true)}>Preview</h3>\r\n                </div>\r\n                {\r\n                    preview === false ?\r\n                        <div className=\"input\">\r\n                            <div className=\"inputImage\">\r\n                                <input type=\"text\" placeholder=\"Add Cover Image...\" value={CoverImage} onChange={e => setcoverimage(e.target.value)} />\r\n                            </div>\r\n                            <input className=\"title\" type=\"text\" placeholder=\"Title of the Post Here...\" value={heading} onChange={e => setheading(e.target.value)} />\r\n                            <div className=\"inputImage\">\r\n                                <input type=\"text\" placeholder=\"Add tags...\" value={tag} onChange={e => settag(e.target.value)} autoFocus=\"true\" />\r\n                                <button onClick={additem}>Add</button>\r\n                            </div>\r\n\r\n                            <div className=\"outputtags\">\r\n                                {\r\n                                    tags.map((item) => (\r\n                                        <span>{item}</span>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                            <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" style={{ whiteSpace: 'pre-wrap' }} placeholder=\"Add your content here...\" value={content} onChange={e => setcontent(e.target.value)} ></textarea>\r\n                        </div>\r\n                        :\r\n                        <Preview CoverImage={CoverImage} heading={heading} tags={tags} content={content} />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bloginput\r\n"],"sourceRoot":""}