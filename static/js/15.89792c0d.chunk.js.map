{"version":3,"sources":["Components/Blog-MVP/Homepage.jsx","Components/Forms/Login.jsx"],"names":["Card","src","content","heading","blogdetails","setcurrentblog","currentblog","history","useHistory","className","alt","onClick","localStorage","setItem","JSON","stringify","push","Homepage","useContext","currentBlog","currentindexblog","usercontext","userexist","user","setuser","setuserexist","useState","hashhubblogs","sethashhubblogs","landingpage","setlandingpage","getblogs","a","axios","get","result","data","blogs","console","log","length","useEffect","getItem","parse","id","style","marginLeft","marginRight","CoverImage","name","map","item","Login","error","seterror","email","setemail","password","setpassword","submit","e","preventDefault","fetch","method","headers","body","res","status","json","message","class","href","type","autoComplete","value","onChange","target","to"],"mappings":"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","file":"static/js/15.89792c0d.chunk.js","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport \"./homepage.css\"\r\nimport axios from \"axios\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { currentBlog } from \"../Contexts/currentBlog\"\r\nimport { usercontext } from \"../Contexts/usercontext\";\r\nimport Login from \"../Forms/Login\"\r\n\r\nfunction Card({ src, content, heading, blogdetails, currentblog, setcurrentblog }) {\r\n    const history = useHistory();\r\n    const readblog = () => {\r\n        localStorage.setItem('currentblogdetails',JSON.stringify(blogdetails))\r\n        setcurrentblog(blogdetails);\r\n        history.push('/Blogpage');\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"blog-card\">\r\n                <div className=\"top\">\r\n                    <img src={src} alt=\"\" />\r\n                </div>\r\n                <div className=\"down\">\r\n                    <h2>{heading}</h2>\r\n                    <p>{content} ...</p>\r\n                    <button onClick={readblog}>Read More</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nfunction Homepage() {\r\n    const history = useHistory();\r\n    const { currentindexblog, setcurrentblog } = useContext(currentBlog)\r\n    const { user, setuser, userexist, setuserexist } = useContext(usercontext);\r\n    const [hashhubblogs, sethashhubblogs] = useState([]);\r\n    const [landingpage, setlandingpage] = useState([]);\r\n    const getblogs = async () => {\r\n        const result = await axios.get('https://hashhub-backend.herokuapp.com/Hashhub_blogs');\r\n        const blogs = await result.data;\r\n        sethashhubblogs(blogs);\r\n        console.log(hashhubblogs);\r\n        setlandingpage(blogs[blogs.length - 1]);\r\n        console.log(landingpage)\r\n    }\r\n    const handlesubmit = () => {\r\n\r\n        setcurrentblog(landingpage);\r\n        history.push('/Blogpage');\r\n        console.log(landingpage);\r\n    }\r\n    useEffect(() => {\r\n\r\n        if(localStorage.getItem('hashhubblogs')){\r\n            sethashhubblogs(JSON.parse(localStorage.getItem('hashhubblogs')))\r\n        }\r\n        if(localStorage.getItem('landingpage')){\r\n            setlandingpage(JSON.parse(localStorage.getItem('landingpage')))\r\n        }\r\n        getblogs();\r\n    }, [])\r\n    useEffect(()=>{\r\n        localStorage.setItem('hashhubblogs',JSON.stringify(hashhubblogs));\r\n        localStorage.setItem('landingpage',JSON.stringify(landingpage)); \r\n    })\r\n    \r\n    return (<>\r\n        {\r\n            userexist===false?\r\n            <Login />\r\n            :\r\n            <>\r\n            <div id=\"blog-Mainpage\">\r\n            <div className=\"header\">\r\n                <div></div>\r\n                <div style={{marginLeft:'4rem'}} className=\"right\">\r\n                </div>\r\n                <div>\r\n                <button style={{marginRight:'1rem'}} onClick={()=>{history.push('/CreateBlog')}}>Publish the Blog</button>\r\n                </div>\r\n            </div>\r\n                <h2><center>Latest Blog</center></h2>\r\n            <div className=\"landingpage\">\r\n                <img src={landingpage.CoverImage} id=\"landingPageImg\" alt=\"\" />\r\n                <div className=\"subnav\">\r\n                    <h1>{landingpage.heading}</h1>\r\n                    <i><h2>- {landingpage.name === '' ? 'User' : landingpage.name}</h2></i>\r\n\r\n                    <p>{landingpage.content}</p>\r\n                    <button onClick={handlesubmit} >Read More</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"other-blogs\">\r\n                <h2><center>More Blogs</center></h2>\r\n                <div className=\"moreblogs\">\r\n                    {\r\n                        hashhubblogs.map((item) => (\r\n                                <Card src={item.CoverImage} content={item.content} heading={item.heading} blogdetails={item} currentBlog={currentindexblog} setcurrentblog={setcurrentblog} />\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Homepage;","import React, { useState, useContext } from 'react'\r\nimport \"./form.css\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { usercontext } from '../Contexts/usercontext';\r\nimport { useEffect } from 'react';\r\nfunction Login() {\r\n    const { user, setuser, userexist, setuserexist } = useContext(usercontext);\r\n    const history = useHistory();\r\n    const [error, seterror] = useState();\r\n    const [email, setemail] = useState();\r\n    const [password, setpassword] = useState();\r\n    const submit = async (e) => {\r\n\r\n        e.preventDefault();\r\n        const res = await fetch(\"https://hashhub-backend.herokuapp.com/login\", {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                email, password\r\n            })\r\n        })\r\n        if (res.status === 200) {\r\n            const result = await res.json();\r\n            setuser(result.user);\r\n            setuserexist(true);\r\n            localStorage.setItem('user', JSON.stringify(result.user));\r\n            localStorage.setItem('userexist', 'true');\r\n            history.push('/')\r\n        } else {\r\n            const result = await res.json();\r\n            seterror(result.message);\r\n        }\r\n    }\r\n    return (\r\n        <div class=\"login_register\">\r\n            <div className=\"left\">\r\n                <a href=\"#\">Hash/Hub</a>\r\n                <img src=\"https://pratibharana.com/wp-content/uploads/2021/04/web-development-banner.jpg\" alt=\"\" />\r\n                <h3>Hash/Hub is here to provide everything that revolves around your engineering degree.</h3>\r\n            </div>\r\n            <div className=\"right\">\r\n                <h2>Welcome</h2>\r\n                <h4>Sign in to your Account</h4>\r\n                <div className=\"inputfields\">\r\n                    <p>Username</p>\r\n                    <input type=\"text\" autoComplete=\"true\" value={email} onChange={e => setemail(e.target.value)} />\r\n                </div>\r\n                <div className=\"inputfields\">\r\n                    <p>Password</p>\r\n                    <input type=\"password\" value={password} onChange={e => setpassword(e.target.value)} />\r\n                </div>\r\n                <button onClick={submit} >Login</button>\r\n                <p className=\"para\">{error}</p>\r\n                <p className=\"para\">Not have account? <Link to=\"/register\">Register</Link></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"],"sourceRoot":""}